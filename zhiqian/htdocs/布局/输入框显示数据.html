<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>1元许愿</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="apple-mobile-web-app-capable" content="no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
<style>
.text-center{text-align:center;}
.box{display:-webkit-box;display:box;}
#idNumber1{width:80%;overflow:hidden;text-align:left;display:block;max-height:100%;border:1px solid #0C0;}
.his-record:after {clear:both;content:'.';display:block;width: 0;height: 0;visibility:hidden;} {}
.his-record>div{float:left;width:31%;margin:0.5rem 1%;padding:5px 6%;border-radius:3px;border:1px solid #999;color:#999;}
 
</style>
</head>
<body>
    <section>
        <div class="box" style="border-radius:5px;">
            <form id="form1" method="get" action="http://www.baidu.com" style="width:80%">
            <input class="" id="idNumber1">
            </form>
            <div style="width:20%;background:url(../assets/images/yy/search.jpg) no-repeat right;background-size:contain;" id="search"></div>
        </div>
    </section>
     
    <section class="his-record text-center">
    </section>
     <!--清空历史记录-->
    <section style="position:fixed;bottom:70px;width:100%;">
        <div class="font-brown text-center" style="border:2px solid #834f1b;padding:3px 15px;margin:0 auto;width:40%;" id="his-dele">清空搜索记录</div>
    </section>
<script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
    $(document).delegate(".his-record>div","click",function(){
        $("#idNumber1").val($(this).text());   
    });
 
    /*搜索记录相关*/
    //从localStorage获取搜索时间的数组
    var hisTime;
    //从localStorage获取搜索内容的数组
    var hisItem;
    //从localStorage获取最早的1个搜索时间
    var firstKey;
    function init (){
    //每次执行都把2个数组置空
    hisTime = [];
    hisItem = [];
    //模拟localStorage本来有的记录
    //本函数内的两个for循环用到的变量
    var i=0
     
    for(;i<localStorage.length;i++){
         
        //alert(typeof(localStorage.key(i)));
        if(!isNaN(localStorage.key(i))){
        	
          //hisItem.push(localStorage.getItem(localStorage.key(i)));
          hisTime.push(localStorage.key(i));
        }
      }<br> 
      hisTime.sort();<br>　　   
      for(var y=hisTime.length;y>-1;y--){ 　<br>　　　　　　
      	　　　hisItem.push(localStorage.getItem(hisTime[y]));   <br>  
      }<em id="__mceDel" style="line-height: 1.5;">
      <em id="__mceDel"><em id="__mceDel">　</em></em>
      </em>
